# KindeAuthSwift

[![Version](https://img.shields.io/cocoapods/v/KindeAuthSwift.svg?style=flat)](https://cocoapods.org/pods/KindeAuthSwift)
[![License](https://img.shields.io/cocoapods/l/KindeAuthSwift.svg?style=flat)](https://cocoapods.org/pods/KindeAuthSwift)
[![Platform](https://img.shields.io/cocoapods/p/KindeAuthSwift.svg?style=flat)](https://cocoapods.org/pods/KindeAuthSwift)

Integrate Kinde authentication with your iOS app. **register**, **login**, **logout**, and securely store authentication state on the iOS keychain.

## Example

To run the example project, clone the repo, and run `pod install` from the Example directory first.

## Requirements

- iOS 12.4+
- Xcode 12+
- Swift 5+

## Installation

KindeAuthSwift is available through [CocoaPods](https://cocoapods.org). To install
it, simply add the following line to your Podfile:

```ruby
pod 'KindeAuthSwift'
```

## Configuration

The Kinde `AuthService` is configured with an instance of the `Config` class. The example project uses the bundled `KindeAuth.plist` for configuration. Alternatively, configuration can be supplied in JSON format with the bundled `kinde-auth.json`. Enter the values for your [Kinde business](https://kinde.com/docs/the-basics/getting-app-keys): E.g.,

```
{
  "issuer": "https://{your-business}.kinde.com",
  "clientId": "{your-client-id}",
  "redirectUri": "{your-url-scheme}://kinde_callback",
  "postLogoutRedirectUri": "{your-url-scheme}://kinde_logoutcallback",
  "scope": "offline openid"
}
```

Note: `your_url_scheme` can be any valid custom URL scheme, such as your app's bundle ID or an abbreviation.

Before `Auth` can be used, a call to `Auth.configure()` must be made, typically in `AppDelegate` as part of `application(launchOptions)` for a UIKit app, or the `@main` initialization logic for a SwiftUI app. Likewise, if the Kinde Management API client is used, `KindeManagementApiClient.configure()` must be called prior to use.

## Development

Observe [Swift conventions](https://www.swift.org/documentation/api-design-guidelines/) where possible.

### Generate the Kinde Management API client

KindeAuthSwift includes a client for the Kinde Management API. This client is generated by the [OpenApi Genenerator](https://openapi-generator.tech/docs/generators/swift5/). To update the client update the OpenAPI specification `kinde-mgmt-api-specs.yaml` and run the generator.

- [Install](https://classic.yarnpkg.com/en/docs/install) and run `yarn`
- Generate the API client `yarn generate-api`

### Tests

The UI tests implemented in KindeAuthUITests require a test user to have been created for your organization. Search for `test_user@example.com` and replace this and the associated password with the credentials of your test user.

## Author

Kinde, kinde.com

## License

KindeAuthSwift is available under the Apache-2.0 license. See the LICENSE file for more info.
